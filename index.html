<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ì˜¤ëŠ˜ì˜ ìš´ì„¸</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    /* ===== ì „ì²´ ê³µí†µ ìŠ¤íƒ€ì¼ (ëª¨ë°”ì¼ ìš°ì„ ) ===== */
    :root {
      --neon-lime: #c7ff2e;
      --black: #111111;
      --text-main: #222222;
      --text-sub: #555555;
      --card-bg: #ffffff;
      --badge-bg: #f4f4f4;
      --accent: #00bf6f;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
      background: var(--neon-lime);
      color: var(--text-main);
    }

    .wrap {
      max-width: 480px;
      margin: 0 auto;
      min-height: 100vh;
      padding: 16px 16px 96px;
      position: relative;
    }

    /* ===== í—¤ë”/ë¸Œëœë“œ ì˜ì—­ ===== */
    .top-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px;
      font-size: 0.8rem;
      font-weight: 500;
    }
    .brand {
      font-weight: 700;
      letter-spacing: 0.02em;
    }
    .top-right {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .lang {
      display: flex;
      align-items: center;
      gap: 4px;
    }
    .menu-lines {
      width: 18px;
      height: 12px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .menu-lines span {
      display: block;
      height: 2px;
      border-radius: 999px;
      background: #000;
    }

    /* ===== íˆì–´ë¡œ ì˜ì—­ ===== */
    .hero {
      text-align: center;
      margin-top: 8px;
      margin-bottom: 24px;
    }
    .hero-title {
      font-size: 1.4rem;
      font-weight: 700;
      line-height: 1.4;
      margin-bottom: 16px;
    }
    .hero-title span {
      font-weight: 800;
    }
    .clover {
      font-size: 80px;
      line-height: 1;
      margin-bottom: 8px;
    }
    .hero-sub {
      font-size: 0.9rem;
      color: #333333;
    }

    /* ===== ì…ë ¥ ì¹´ë“œ ===== */
    .card {
      background: var(--card-bg);
      border-radius: 18px;
      padding: 18px 16px 16px;
      box-shadow: 0 8px 18px rgba(0,0,0,0.08);
      margin-bottom: 18px;
    }

    .card-title {
      font-size: 1rem;
      font-weight: 700;
      margin-bottom: 4px;
    }
    .card-desc {
      font-size: 0.85rem;
      color: var(--text-sub);
      margin-bottom: 14px;
    }

    label {
      display: block;
      font-size: 0.8rem;
      margin-bottom: 4px;
      color: #666666;
    }

    .field {
      margin-bottom: 10px;
    }

    input, select {
      width: 100%;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid #dddddd;
      font-size: 0.9rem;
      outline: none;
      background: #fafafa;
    }
    input:focus, select:focus {
      border-color: var(--accent);
      background: #ffffff;
    }
    input::placeholder {
      color: #aaaaaa;
    }

    .checkbox-row {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-top: 6px;
      font-size: 0.8rem;
      color: var(--text-sub);
    }

    .error {
      font-size: 0.8rem;
      color: #e53935;
      min-height: 1.2em;
      margin-top: 4px;
    }

    /* ===== ê²°ê³¼ ì¹´ë“œ ===== */
    .result {
      margin-top: 8px;
      display: none;
    }

    .result-card {
      background: var(--card-bg);
      border-radius: 18px;
      padding: 18px 16px 20px;
      box-shadow: 0 10px 20px rgba(0,0,0,0.12);
      margin-bottom: 16px;
    }

    .date-text {
      font-size: 0.8rem;
      color: var(--text-sub);
      margin-bottom: 6px;
    }

    .result-headline {
      font-size: 1.1rem;
      font-weight: 700;
      margin-bottom: 10px;
    }

    .result-intro {
      font-size: 0.9rem;
      color: var(--text-sub);
      line-height: 1.5;
      margin-bottom: 14px;
    }

    .badge-row {
      display: flex;
      gap: 8px;
      margin-bottom: 12px;
    }
    .badge {
      flex: 1;
      padding: 8px 10px;
      border-radius: 12px;
      background: var(--badge-bg);
      font-size: 0.8rem;
      text-align: center;
    }
    .badge-title {
      display: block;
      margin-bottom: 2px;
      color: var(--text-sub);
    }
    .badge-value {
      font-weight: 700;
    }

    .section {
      background: var(--card-bg);
      border-radius: 18px;
      padding: 14px 14px 12px;
      box-shadow: 0 6px 14px rgba(0,0,0,0.06);
      margin-bottom: 10px;
      font-size: 0.9rem;
      line-height: 1.5;
    }
    .section-title {
      font-weight: 600;
      margin-bottom: 4px;
      font-size: 0.9rem;
    }
    .section-body {
      font-size: 0.85rem;
      color: var(--text-sub);
    }

    .disclaimer {
      font-size: 0.75rem;
      color: #444444;
      text-align: center;
      margin-top: 8px;
      opacity: 0.8;
    }

    /* ===== í•˜ë‹¨ ê³ ì • ë²„íŠ¼ ===== */
    .bottom-bar {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      padding: 10px 16px 18px;
      background: linear-gradient(to top, rgba(0,0,0,0.28), transparent);
      pointer-events: none;
    }
    .bottom-inner {
      max-width: 480px;
      margin: 0 auto;
      pointer-events: auto;
    }
    .main-btn {
      width: 100%;
      border: none;
      border-radius: 999px;
      padding: 14px 16px;
      background: #000000;
      color: #ffffff;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
    }
    .main-btn:active {
      transform: translateY(1px);
      opacity: 0.9;
    }

    @media (min-width: 768px) {
      .hero-title {
        font-size: 1.6rem;
      }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- í—¤ë” -->
    <header class="top-bar">
      <div class="brand">NoPlasticSunday</div>
      <div class="top-right">
        <div class="lang">ğŸŒ <span>KR</span></div>
        <div class="menu-lines">
          <span></span><span></span><span></span>
        </div>
      </div>
    </header>

    <!-- íˆì–´ë¡œ / ì¸ì‚¬ -->
    <section class="hero">
      <div class="hero-title">
        <span id="heroNamePrefix"></span>ì˜¤ëŠ˜ë„ í–‰ìš´ì´ ê°€ë“í•˜ê¸¸!
      </div>
      <div class="clover">ğŸ€</div>
      <div class="hero-sub">ê°„ë‹¨í•œ ì •ë³´ë¥¼ ì…ë ¥í•˜ë©´ ì˜¤ëŠ˜ í•˜ë£¨ì˜ ìš´ì„¸ì™€ ì‘ì€ ì¡°ì–¸ì„ ì•Œë ¤ì¤ë‹ˆë‹¤.</div>
    </section>

    <!-- ì…ë ¥ ì¹´ë“œ -->
    <section class="card">
      <div class="card-title">ì •í™•í•œ ìš´ì„¸ë¥¼ ìœ„í•´<br><span id="formNamePrefix">ë‹¹ì‹ </span>ì„ ë” ì•Œê³  ì‹¶ì–´ìš”</div>
      <div class="card-desc">
        ì„±ë³„, ìƒë…„ì›”ì¼, íƒœì–´ë‚œ ì‹œê°„ì„ ê¸°ë°˜ìœ¼ë¡œ ì˜¤ëŠ˜ì˜ íë¦„ì„ ê°„ë‹¨íˆ ë¶„ì„í•©ë‹ˆë‹¤.
        ì…ë ¥í•œ ì •ë³´ëŠ” ìš´ì„¸ ê³„ì‚° ìš©ë„ë¡œë§Œ ì‚¬ìš©ë©ë‹ˆë‹¤.
      </div>

      <div class="field">
        <label for="name">ì´ë¦„</label>
        <input type="text" id="name" placeholder="ì˜ˆ: í˜¸ì°Œ" />
      </div>

      <div class="field">
        <label for="gender">ì„±ë³„</label>
        <select id="gender">
          <option value="">ì„ íƒí•˜ì„¸ìš”</option>
          <option value="male">ë‚¨ì„±</option>
          <option value="female">ì—¬ì„±</option>
          <option value="other">ê¸°íƒ€</option>
        </select>
      </div>

      <div class="field">
        <label for="birth">ìƒë…„ì›”ì¼</label>
        <input type="date" id="birth" />
      </div>

      <div class="field">
        <label for="birthTime">íƒœì–´ë‚œ ì‹œê°„</label>
        <select id="birthTime">
          <option value="">ëª¨ë¦„ / ê¸°ì–µ ì•ˆ ë‚¨</option>
          <option value="0">00ì‹œ</option>
          <option value="1">01ì‹œ</option>
          <option value="2">02ì‹œ</option>
          <option value="3">03ì‹œ</option>
          <option value="4">04ì‹œ</option>
          <option value="5">05ì‹œ</option>
          <option value="6">06ì‹œ</option>
          <option value="7">07ì‹œ</option>
          <option value="8">08ì‹œ</option>
          <option value="9">09ì‹œ</option>
          <option value="10">10ì‹œ</option>
          <option value="11">11ì‹œ</option>
          <option value="12">12ì‹œ</option>
          <option value="13">13ì‹œ</option>
          <option value="14">14ì‹œ</option>
          <option value="15">15ì‹œ</option>
          <option value="16">16ì‹œ</option>
          <option value="17">17ì‹œ</option>
          <option value="18">18ì‹œ</option>
          <option value="19">19ì‹œ</option>
          <option value="20">20ì‹œ</option>
          <option value="21">21ì‹œ</option>
          <option value="22">22ì‹œ</option>
          <option value="23">23ì‹œ</option>
        </select>
      </div>

      <div class="checkbox-row">
        <input type="checkbox" id="noTime" />
        <label for="noTime">íƒœì–´ë‚œ ì‹œê°„ì„ ì˜ ëª¨ë¥´ê² ì–´ìš”</label>
      </div>

      <div id="error" class="error"></div>
    </section>

    <!-- ê²°ê³¼ ì˜ì—­ -->
    <section class="result" id="resultSection">
      <div class="result-card">
        <div class="date-text" id="todayText"></div>
        <div class="result-headline" id="resultTitle"></div>
        <div class="result-intro" id="resultIntro"></div>

        <div class="badge-row">
          <div class="badge">
            <span class="badge-title">ì˜¤ëŠ˜ì˜ ì ìˆ˜</span>
            <span class="badge-value" id="scoreBadge"></span>
          </div>
          <div class="badge">
            <span class="badge-title">í–‰ìš´ì˜ ìˆ«ì</span>
            <span class="badge-value" id="luckyBadge"></span>
          </div>
          <div class="badge">
            <span class="badge-title">ì¶”ì²œ ìƒ‰ìƒ</span>
            <span class="badge-value" id="colorBadge"></span>
          </div>
        </div>
      </div>

      <!-- ì„¸ë¶€ ì¡°ì–¸ ë¸”ë¡ -->
      <div id="sectionContainer"></div>

      <div class="disclaimer">
        ë³¸ ìš´ì„¸ëŠ” ì˜¤ë½ ë° ìê¸° ì„±ì°°ì„ ìœ„í•œ ì°¸ê³ ìš©ì´ë©°,
        ì‹¤ì œ íˆ¬ìÂ·ì˜ì‚¬ê²°ì •ì˜ ê·¼ê±°ë¡œ ì‚¬ìš©í•˜ì§€ ì•Šê¸°ë¥¼ ê¶Œì¥í•¨.
      </div>
    </section>
  </div>

  <!-- í•˜ë‹¨ ê³ ì • ë²„íŠ¼ -->
  <div class="bottom-bar">
    <div class="bottom-inner">
      <button class="main-btn" id="seeFortuneBtn">ì˜¤ëŠ˜ì˜ ìš´ì„¸ ë³´ê¸°</button>
    </div>
  </div>

  <script>
    // ===== ë‚ ì§œ í‘œê¸° =====
    function formatTodayKorean() {
      const now = new Date();
      const year = now.getFullYear();
      const month = now.getMonth() + 1;
      const date = now.getDate();
      const weekdays = ["ì¼", "ì›”", "í™”", "ìˆ˜", "ëª©", "ê¸ˆ", "í† "];
      const day = weekdays[now.getDay()];
      return year + "ë…„ " + month + "ì›” " + date + "ì¼ " + day + "ìš”ì¼";
    }

    // ===== ìš´ì„¸ ë°ì´í„° (í•œ ì¤„ ìš”ì•½ + 3~4ê°œ ì„¹ì…˜) =====
    const fortunes = [
      {
        headline: "ì´ëŸ° ë‚ ì€ í¸ì•ˆí•œ ë§ˆìŒì´ ìµœê³ ì˜ˆìš”!",
        intro:
          "ì˜ˆë¯¼í•´ì§ˆ ìˆ˜ ìˆìœ¼ë‹ˆ í‰ì†Œì— í•œ ë²ˆì— ì²˜ë¦¬í•˜ë ¤ í–ˆë˜ ì¼ë“¤ì„ ì˜¤ëŠ˜ë§Œí¼ì€ ì¡°ê¸ˆ ëŠê¸‹í•˜ê²Œ ë°”ë¼ë³´ëŠ” í¸ì´ ì¢‹ìŠµë‹ˆë‹¤. ëª¸ê³¼ ë§ˆìŒì˜ ì†ë„ë¥¼ ë§ì¶° ì£¼ë©´ ì˜¤íˆë ¤ ì¤‘ìš”í•œ í¬ì¸íŠ¸ê°€ ë” ë˜ë ·í•˜ê²Œ ë³´ì¼ ìˆ˜ ìˆëŠ” ë‚ ì…ë‹ˆë‹¤.",
        sections: [
          {
            title: "í˜¸ì°Œë‹˜ì˜ ì˜¤ëŠ˜ì˜ í–‰ìš´",
            body:
              "ì‘ì€ ì‹¤ìˆ˜ë‚˜ ê³„íš ë³€ê²½ì´ ìƒê¸°ë”ë¼ë„ ì§€ë‚˜ì¹˜ê²Œ ìì±…í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤. ì˜ˆìƒê³¼ ë‹¬ë¼ ë³´ì´ëŠ” íë¦„ ì†ì—ì„œ ì˜¤íˆë ¤ ìˆ¨ê²¨ì§„ ê¸°íšŒê°€ ë‚˜íƒ€ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜¤ëŠ˜ì€ â€˜íë¦„ì— ëª¸ì„ ë§¡ê¸´ë‹¤â€™ëŠ” ë§ˆìŒê°€ì§ì´ í–‰ìš´ì„ ë¶€ë¥´ëŠ” í‚¤ì›Œë“œì…ë‹ˆë‹¤."
          },
          {
            title: "ì»¨ë””ì…˜ & ê°ì • ê´€ë¦¬",
            body:
              "íœ´ì‹ì´ ë°©í•´ë°›ì•˜ê±°ë‚˜ ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ìŒ“ì˜€ë‹¤ë©´ ê°€ë²¼ìš´ ì‚°ì±…ì´ë‚˜ ì§§ì€ ì‰¼ì´ í° ë„ì›€ì´ ë©ë‹ˆë‹¤. ì§‘ì¤‘ì´ ì˜ ì•ˆ ë  ë•ŒëŠ” ì–µì§€ë¡œ ë²„í‹°ê¸°ë³´ë‹¤ 5ë¶„ ì •ë„ ìë¦¬ë¥¼ ë¹„ìš°ê±°ë‚˜ ë¬¼ì„ ë§ˆì‹œë©° ë¦¬ì…‹í•´ ë³´ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤."
          },
          {
            title: "ê´€ê³„ì—ì„œ ì¡°ì‹¬í•  ì ",
            body:
              "ì˜¤ëŠ˜ì€ ì‚¬ì†Œí•œ ë§ì—ë„ ì˜ˆë¯¼í•´ì§ˆ ìˆ˜ ìˆëŠ” ë‚ ì…ë‹ˆë‹¤. ìƒëŒ€ì˜ ì˜ë„ë³´ë‹¤ ë§ì˜ í‘œë©´ë§Œ ë³´ê³  ë°˜ì‘í•˜ê¸° ì‰¬ìš°ë‹ˆ, ë§ˆìŒì´ ë¶ˆí¸í•´ì§ˆ ë•ŒëŠ” ë°”ë¡œ ë‹µì¥ì„ ë³´ë‚´ê¸°ë³´ë‹¤ í•œ ë²ˆ ìˆ¨ì„ ê³ ë¥¸ ë’¤ ëŒ€í™”í•˜ëŠ” í¸ì´ ì¢‹ìŠµë‹ˆë‹¤."
          },
          {
            title: "ì˜¤ëŠ˜ì˜ í•œ ì¤„ ê°€ì´ë“œ",
            body:
              "ì˜¤ëŠ˜ì˜ í‚¤ì›Œë“œëŠ” â€˜ê¸°ëŒ€ì¹˜ ë‚®ì¶”ê¸°â€™ì…ë‹ˆë‹¤. ì™„ë²½ì„ ëª©í‘œë¡œ í•˜ê¸°ë³´ë‹¤, ì§€ê¸ˆ í•  ìˆ˜ ìˆëŠ” ë§Œí¼ë§Œ ì„±ì‹¤í•˜ê²Œ í•´ë‚¸ë‹¤ë©´ ì˜ˆìƒë³´ë‹¤ í›¨ì”¬ ì•ˆì •ì ì¸ í•˜ë£¨ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
          }
        ]
      },
      {
        headline: "ìƒˆë¡œìš´ ê¸°íšŒê°€ ì¡°ìš©íˆ ë‹¤ê°€ì˜¤ëŠ” ë‚ ì…ë‹ˆë‹¤.",
        intro:
          "í‰ì†Œì— ëˆˆì—¬ê²¨ë³´ë˜ ì¼ì´ë‚˜ ì‚¬ëŒì—ê²Œ ê°€ë³ê²Œ ì†ì„ ë‚´ë°€ì–´ ë³´ê¸° ì¢‹ì€ ë‚ ì…ë‹ˆë‹¤. í° ê²°ì‹¬ì´ë¼ê¸°ë³´ë‹¤ â€˜í…ŒìŠ¤íŠ¸í•´ ë³¸ë‹¤â€™ëŠ” ëŠë‚Œìœ¼ë¡œ ì›€ì§ì´ë©´ ë¶€ë‹´ ì—†ì´ ì¢‹ì€ íë¦„ì„ íƒˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
        sections: [
          {
            title: "ì¼Â·í•™ì—… ìš´",
            body:
              "ì—…ë¬´ë‚˜ ê³¼ì œì—ì„œ ì‘ì€ ì œì•ˆì´ë‚˜ ì•„ì´ë””ì–´ê°€ ì˜ˆìƒ ë°–ì˜ ì£¼ëª©ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì™„ì„±ë„ê°€ 100%ê°€ ì•„ë‹ˆì–´ë„ ê´œì°®ìœ¼ë‹ˆ, ì´ˆì•ˆì´ë¼ë„ ë¨¼ì € ë³´ì—¬ì£¼ëŠ” ìš©ê¸°ê°€ í•„ìš”í•©ë‹ˆë‹¤."
          },
          {
            title: "ê¸ˆì „ & ê¸°íšŒ",
            body:
              "ë‹¹ì¥ í° ëˆì´ ë“¤ì–´ì˜¤ì§„ ì•Šë”ë¼ë„, ì•ìœ¼ë¡œì˜ ìˆ˜ì… êµ¬ì¡°ë¥¼ ë°”ê¾¸ê²Œ ë  íŒíŠ¸ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ëŒë“¤ì˜ ìš”ì²­ì´ë‚˜ ì§ˆë¬¸ ì†ì—ì„œ â€˜ë‚´ê°€ ëˆì„ ë²Œ ìˆ˜ ìˆëŠ” ì§€ì â€™ì„ í•œ ë²ˆ ë” ë– ì˜¬ë ¤ ë³´ì„¸ìš”."
          },
          {
            title: "ê´€ê³„ & ì¸ì—°",
            body:
              "ì˜¤ëœë§Œì— ë– ì˜¤ë¥¸ ì‚¬ëŒì´ ìˆë‹¤ë©´ ê°€ë³ê²Œ ì•ˆë¶€ ì¸ì‚¬ë¥¼ ë³´ë‚´ ë³´ì„¸ìš”. ìƒê°ë³´ë‹¤ ìì—°ìŠ¤ëŸ½ê²Œ ëŒ€í™”ê°€ ì´ì–´ì§€ê³ , ì•ìœ¼ë¡œ í•¨ê»˜í•  í”„ë¡œì íŠ¸ë‚˜ ì·¨ë¯¸ ì¸ì—°ìœ¼ë¡œ ë°œì „í•  ê°€ëŠ¥ì„±ë„ ìˆìŠµë‹ˆë‹¤."
          },
          {
            title: "ì˜¤ëŠ˜ì˜ í•œ ì¤„ ê°€ì´ë“œ",
            body:
              "ì™„ë²½í•œ ì¤€ë¹„ê°€ ë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ê¸°ë³´ë‹¤, â€˜ì§€ê¸ˆ í•  ìˆ˜ ìˆëŠ” ë§Œí¼â€™ ì‹œì‘í•´ ë³´ëŠ” ì‚¬ëŒì´ ê²°êµ­ ê¸°íšŒë¥¼ ì¡ê²Œ ë©ë‹ˆë‹¤."
          }
        ]
      },
      {
        headline: "ì§‘ì¤‘ë ¥ê³¼ ì‹¤í–‰ë ¥ì´ ì‚´ì•„ë‚˜ëŠ” í•˜ë£¨ì…ë‹ˆë‹¤.",
        intro:
          "í•´ì•¼ í•  ì¼ë“¤ì˜ ìœ¤ê³½ì´ ë¹„êµì  ë˜ë ·í•˜ê²Œ ë³´ì´ëŠ” ë‚ ì…ë‹ˆë‹¤. ê³„íšë§Œ ì„¸ìš°ê³  ë¯¸ë¤„ë‘ì—ˆë˜ ì¼ì„ ì‹¤ì œ í–‰ë™ìœ¼ë¡œ ì˜®ê¸°ê¸°ì— ì¢‹ì€ íƒ€ì´ë°ì…ë‹ˆë‹¤.",
        sections: [
          {
            title: "ìš°ì„ ìˆœìœ„ ì •í•˜ê¸°",
            body:
              "ì˜¤ëŠ˜ì€ ëª¨ë“  ì¼ì„ í•œ ë²ˆì— í•´ê²°í•˜ë ¤ í•˜ê¸°ë³´ë‹¤, ê°€ì¥ ì¤‘ìš”í•œ ì¼ í•œë‘ ê°€ì§€ì— ì—ë„ˆì§€ë¥¼ ì§‘ì¤‘í•˜ëŠ” í¸ì´ ì¢‹ìŠµë‹ˆë‹¤. í•  ì¼ ëª©ë¡ì„ ì ì–´ë³´ê³  â€˜ì§€ê¸ˆ ë°˜ë“œì‹œ í•´ì•¼ í•˜ëŠ” ê²ƒâ€™ë¶€í„° ì²´í¬í•´ ë³´ì„¸ìš”."
          },
          {
            title: "ëª°ì… íŒ",
            body:
              "25ë¶„ ì§‘ì¤‘ í›„ 5ë¶„ ì‰¬ëŠ” ì‹ìœ¼ë¡œ ì§§ê²Œ ëŠì–´ì„œ ì¼í•˜ë©´ íš¨ìœ¨ì´ ë†’ì•„ì§‘ë‹ˆë‹¤. íœ´ëŒ€í° ì•Œë¦¼ì„ ì ì‹œ êº¼ë‘ê±°ë‚˜, ì‘ì—…ì— í•„ìš” ì—†ëŠ” íƒ­ì„ ì •ë¦¬í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œë„ ëª°ì…ë„ê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤."
          },
          {
            title: "ëŒ€ì¸ ê´€ê³„",
            body:
              "ì˜¤ëŠ˜ì€ ê°ì • ê¸°ë³µì´ ì‹¬í•˜ì§€ ì•Šì•„ ì¤‘ìš”í•œ ë¯¸íŒ…ì´ë‚˜ ëŒ€í™” ì¼ì •ì„ ì¡ê¸°ì— ê´œì°®ì€ ë‚ ì…ë‹ˆë‹¤. ë‹¤ë§Œ ìƒëŒ€ì˜ ì†ë„ë¥¼ ë°°ë ¤í•˜ë©´ì„œ ë‚´ ì˜ê²¬ì„ ì°¨ë¶„íˆ ì •ë¦¬í•´ ì „í•˜ëŠ” ê²ƒì´ í¬ì¸íŠ¸ì…ë‹ˆë‹¤."
          },
          {
            title: "ì˜¤ëŠ˜ì˜ í•œ ì¤„ ê°€ì´ë“œ",
            body:
              "ì™„ë²½ë³´ë‹¤ â€˜ì™„ë£Œâ€™ë¥¼ ëª©í‘œë¡œ ì‚¼ì•„ë³´ì„¸ìš”. 70% ì™„ì„±ì´ë¼ë„ ë§ˆë¬´ë¦¬ëœ ì¼ í•˜ë‚˜ê°€ ë¨¸ë¦¿ì† ë¶€ë‹´ì„ í¬ê²Œ ì¤„ì—¬ ì¤ë‹ˆë‹¤."
          }
        ]
      }
    ];

    const colors = ["ë¼ì„ ê·¸ë¦°", "ì°¨ë¶„í•œ ë² ì´ì§€", "ë„¤ì˜¨ ì˜ë¡œ", "ë”¥ ë¸”ë£¨", "ì½”ë„ í•‘í¬", "í¬ë ˆìŠ¤íŠ¸ ê·¸ë¦°"];

    // ===== ì‹œë“œ ìƒì„± =====
    function makeSeed(birthStr, gender, birthTime) {
      const digits = birthStr.replace(/-/g, "");
      let sum = 0;
      for (let ch of digits) sum += Number(ch);

      let genderVal = 0;
      if (gender === "male") genderVal = 3;
      else if (gender === "female") genderVal = 7;
      else if (gender === "other") genderVal = 5;

      const timeVal = birthTime !== "" ? Number(birthTime) : 0;
      return sum * 13 + genderVal * 17 + timeVal * 19;
    }

    // ===== DOM ìš”ì†Œ =====
    const nameInput = document.getElementById("name");
    const genderSelect = document.getElementById("gender");
    const birthInput = document.getElementById("birth");
    const birthTimeSelect = document.getElementById("birthTime");
    const noTimeCheck = document.getElementById("noTime");
    const errorDiv = document.getElementById("error");
    const heroNamePrefix = document.getElementById("heroNamePrefix");
    const formNamePrefix = document.getElementById("formNamePrefix");
    const seeFortuneBtn = document.getElementById("seeFortuneBtn");
    const resultSection = document.getElementById("resultSection");
    const todayText = document.getElementById("todayText");
    const resultTitle = document.getElementById("resultTitle");
    const resultIntro = document.getElementById("resultIntro");
    const scoreBadge = document.getElementById("scoreBadge");
    const luckyBadge = document.getElementById("luckyBadge");
    const colorBadge = document.getElementById("colorBadge");
    const sectionContainer = document.getElementById("sectionContainer");

    // ì´ë¦„ ì…ë ¥ ì‹œ ìƒë‹¨ ë¬¸êµ¬ ì—…ë°ì´íŠ¸
    function updateNameUI() {
      const name = nameInput.value.trim();
      if (name) {
        heroNamePrefix.textContent = name + "ë‹˜, ";
        formNamePrefix.textContent = name + "ë‹˜";
      } else {
        heroNamePrefix.textContent = "";
        formNamePrefix.textContent = "ë‹¹ì‹ ";
      }
    }
    nameInput.addEventListener("input", updateNameUI);

    // íƒœì–´ë‚œ ì‹œê°„ ì²´í¬ë°•ìŠ¤ ì²˜ë¦¬
    noTimeCheck.addEventListener("change", () => {
      if (noTimeCheck.checked) {
        birthTimeSelect.value = "";
        birthTimeSelect.disabled = true;
      } else {
        birthTimeSelect.disabled = false;
      }
    });

    // ë©”ì¸ ë²„íŠ¼: ìš´ì„¸ ë³´ê¸°
    seeFortuneBtn.addEventListener("click", () => {
      const name = nameInput.value.trim();
      const gender = genderSelect.value;
      const birth = birthInput.value;
      const birthTime = birthTimeSelect.disabled ? "" : birthTimeSelect.value;

      if (!birth) {
        errorDiv.textContent = "ìƒë…„ì›”ì¼ì€ ë°˜ë“œì‹œ ì…ë ¥í•´ ì£¼ì„¸ìš”.";
        return;
      }
      if (!gender) {
        errorDiv.textContent = "ì„±ë³„ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.";
        return;
      }
      errorDiv.textContent = "";

      const seed = makeSeed(birth, gender, birthTime);
      const idx = seed % fortunes.length;
      const fortune = fortunes[idx];

      // ì ìˆ˜ 60~100, í–‰ìš´ ìˆ«ì 1~10
      const score = 60 + (seed % 41);
      const luckyNumber = (seed % 10) + 1;
      const color = colors[seed % colors.length];

      const namePrefix = name ? name + "ë‹˜, " : "";

      todayText.textContent = formatTodayKorean();
      resultTitle.textContent = namePrefix + fortune.headline;
      resultIntro.textContent = fortune.intro;
      scoreBadge.textContent = score + "ì ";
      luckyBadge.textContent = luckyNumber;
      colorBadge.textContent = color;

      // ì„¹ì…˜ ë Œë”ë§
      sectionContainer.innerHTML = "";
      fortune.sections.forEach(sec => {
        const div = document.createElement("div");
        div.className = "section";
        div.innerHTML =
          '<div class="section-title">' +
          sec.title +
          "</div><div class=\"section-body\">" +
          sec.body +
          "</div>";
        sectionContainer.appendChild(div);
      });

      resultSection.style.display = "block";
      // ê²°ê³¼ ì¹´ë“œë¡œ ìŠ¤í¬ë¡¤
      resultSection.scrollIntoView({ behavior: "smooth", block: "start" });
    });

    // ì´ˆê¸° ë‚ ì§œ ì„¸íŒ…
    todayText.textContent = formatTodayKorean();
  </script>
</body>
</html>
